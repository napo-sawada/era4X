;-------------------------------------------------
;羞恥プレイ
;特殊コマンド
;-------------------------------------------------
@COM186
PRINTL 羞恥プレイ
STR:0 = 羞恥プレイ
CALL KOJO_MESSAGE_COM

;着脱の処理　終了時はソース、経験の加算は行わない
IF TEQUIP:30 == 1
	TEQUIP:30 = 0
	RETURN 1
ELSE
	TEQUIP:30 = 1
ENDIF

;-------------------------------------------------
;ソース追加処理
;-------------------------------------------------
;消費体力、気力
LOSEBASE:0 += 0
LOSEBASE:1 += 200

SOURCE:8 += 500
SOURCE:14 += 300
SOURCE:17 += 100
SOURCE:18 += 500


;-------------------------------------------------
;特殊ソース処理
;-------------------------------------------------
;抑圧、抵抗持ちには、抑鬱ソース追加
SIF TALENT:抑圧 || TALENT:抵抗
	SOURCE:16 += 500

;苦痛を伴わないマゾっ気及びマゾの処理は先にしておく
;マゾっ気を見る
A = 700
IF ABL:9 == 0
	TIMES A , 0.80
	SOURCE:10 += 0
	SOURCE:11 += 0
ELSEIF ABL:9 == 1
	TIMES A , 1.00
	SOURCE:10 += 20
	SOURCE:11 += 30
ELSEIF ABL:9 == 2
	TIMES A , 1.20
	SOURCE:10 += 40
	SOURCE:11 += 70
ELSEIF ABL:9 == 3
	TIMES A , 1.40
	SOURCE:10 += 70
	SOURCE:11 += 120
ELSEIF ABL:9 == 4
	TIMES A , 1.50
	SOURCE:10 += 110
	SOURCE:11 += 180
ELSEIF ABL:9 == 5
	TIMES A , 1.70
	SOURCE:10 += 150
	SOURCE:11 += 250
ELSEIF ABL:9 == 6
	TIMES A , 1.90
	SOURCE:10 += 200
	SOURCE:11 += 300
ELSEIF ABL:9 == 7
	TIMES A , 2.10
	SOURCE:10 += 250
	SOURCE:11 += 350
ELSEIF ABL:9 == 8
	TIMES A , 2.30
	SOURCE:10 += 300
	SOURCE:11 += 400
ELSEIF ABL:9 == 9
	TIMES A , 2.50
	SOURCE:10 += 350
	SOURCE:11 += 450
ELSEIF ABL:9 >= 10
	TIMES A , 3.00
	SOURCE:10 += 500
	SOURCE:11 += 500
ENDIF
SOURCE:13 += A

;依存度ベクトル
TFLAG:33 = 3


RETURN 1


;-------------------------------------------------
;装着継続の処理
;-------------------------------------------------
@EQUIP_COM186
;羞恥プレイ

PRINTL ＜羞恥プレイ中＞

LOSEBASE:0 += 10
LOSEBASE:1 += 100

SOURCE:8 += 400
SOURCE:14 += 200
SOURCE:17 += 900
SOURCE:18 += 900

;-------------------------------------------------
;特殊ソース処理
;-------------------------------------------------
;抑圧、抵抗持ちには、抑鬱ソース追加
SIF TALENT:抑圧 || TALENT:抵抗
	SOURCE:16 += 600

;苦痛を伴わないマゾっ気及びマゾの処理は先にしておく
;マゾっ気を見る
A = 400
IF ABL:9 == 0
	TIMES A , 0.80
	SOURCE:10 += 0
	SOURCE:11 += 0
ELSEIF ABL:9 == 1
	TIMES A , 1.00
	SOURCE:10 += 20
	SOURCE:11 += 30
ELSEIF ABL:9 == 2
	TIMES A , 1.20
	SOURCE:10 += 40
	SOURCE:11 += 70
ELSEIF ABL:9 == 3
	TIMES A , 1.40
	SOURCE:10 += 70
	SOURCE:11 += 120
ELSEIF ABL:9 == 4
	TIMES A , 1.50
	SOURCE:10 += 110
	SOURCE:11 += 180
ELSEIF ABL:9 == 5
	TIMES A , 1.70
	SOURCE:10 += 150
	SOURCE:11 += 250
ELSEIF ABL:9 == 6
	TIMES A , 1.90
	SOURCE:10 += 200
	SOURCE:11 += 300
ELSEIF ABL:9 == 7
	TIMES A , 2.10
	SOURCE:10 += 250
	SOURCE:11 += 350
ELSEIF ABL:9 == 8
	TIMES A , 2.30
	SOURCE:10 += 300
	SOURCE:11 += 400
ELSEIF ABL:9 == 9
	TIMES A , 2.50
	SOURCE:10 += 350
	SOURCE:11 += 450
ELSEIF ABL:9 >= 10
	TIMES A , 3.00
	SOURCE:10 += 500
	SOURCE:11 += 500
ENDIF
SOURCE:13 += A


RETURN 1

