;労役指示
@CHARA_WORKING
#DIM CHARA_ID
#DIMS CONST JOBS = "なし", "キャバクラ", "バーチャルアイドル"
#DIM JOB_COUNT = 3
#DIM JOB_ID

$INPUT_LOOP
PRINTL ◆労働
FOR CHARA_ID, 1, CHARANUM
	; 育児部屋に移動しているキャラは除外
	CALL CHECK_CHILD_CARE
	SIF RESULT == 1
		CONTINUE
	PRINTFORM [{CHARA_ID, 2, RIGHT}] %CALLNAME:CHARA_ID, 20, LEFT%
	FOR JOB_ID, 0, JOB_COUNT
		SIF CFLAG:CHARA_ID:1001 != JOB_ID
			SETCOLOR 0X666666
		PRINTBUTTON @"[%JOBS:JOB_ID%]", CHARA_ID + (JOB_ID * 1000)
		SIF CFLAG:CHARA_ID:1001 != JOB_ID
			RESETCOLOR
	NEXT
	PRINTL
NEXT
PRINTBUTTON "[9999] 決定", 9999
INPUT

SIF RESULT == 9999
	RETURN
FOR JOB_ID, 0, JOB_COUNT
	IF RESULT > 1000 * JOB_ID && RESULT < (1000 * JOB_ID) + CHARANUM
		CHARA_ID = RESULT - (1000 * JOB_ID)
		; 陥落していたら実行可能
		IF IS_FALL(CHARA_ID) == 1
			CFLAG:CHARA_ID:1001 = JOB_ID
		ELSEIF JOB_ID != 0
			PRINTW 労働させるには陥落させる必要があります
		ENDIF
		GOTO INPUT_LOOP
	ENDIF
NEXT
GOTO INPUT_LOOP

; オート労働
@AUTO_WORK(NUM)
#DIM ID
#DIM NUM
#DIM ITER
#DIM GET_MONEY

FOR ID, 1, CHARANUM
	GET_MONEY = 0
	RESULT = 0
	FOR ITER, 0, NUM
		; キャバクラ
		IF CFLAG:ID:1001 == 1
			CALL AUTO_KYABAKURA(ID)
		; バーチャルアイドル
		ELSEIF CFLAG:ID:1001 == 2
			CALL AUTO_VERTUAL_IDOL(ID)
		ENDIF
		GET_MONEY += RESULT
	NEXT
	SIF GET_MONEY > 0
		PRINTFORML %CALLNAME:ID%は%CALLNAME:MASTER%のいない間に%TOSTR(GET_MONEY, "$###,###,###")%稼いできた
NEXT

;奴隷売却の処理
@CHARA_SELL
DRAWLINE
PRINTL 誰を売りますか？
PRINTL 
REPEAT CHARANUM
	TFLAG:COUNT = 0
	SIF COUNT == MASTER
		CONTINUE
	SIF CFLAG:COUNT:12 > 0
		CONTINUE
	;育児部屋に移動しているキャラは除外
	C = COUNT
	CALL CHECK_CHILD_CARE
	SIF RESULT == 1
		CONTINUE
	IF CFLAG:COUNT:1 >= 1 && CFLAG:COUNT:7 == 0
		PRINTFORM [{COUNT}] %NAME:COUNT% 
		IF ASSI == COUNT
			PRINT (助手)
		ELSEIF ISASSI:COUNT == 1
			PRINT (元助手)
		ELSEIF CFLAG:COUNT:1 == 2
			PRINT (助手可)
		ENDIF
		PRINTL 
	ENDIF
REND
PRINTFORML [100] 戻る

$INPUT_LOOP
INPUT

IF RESULT == 100
	RETURN 0
ELSEIF RESULT <= 0 || RESULT >= CHARANUM
	GOTO INPUT_LOOP
ELSEIF CFLAG:RESULT:1 < 1 || CFLAG:RESULT:7 > 0 || CFLAG:RESULT:12 > 0 || RESULT == MASTER
	GOTO INPUT_LOOP
ELSE
	C = RESULT
	CALL CHECK_CHILD_CARE
	SIF RESULT == 1
		GOTO INPUT_LOOP
	;売却処理
	T = TARGET
	A = ASSI
	TARGET = C
ENDIF

S = 0

;ABLによる基礎値計算
V = 0
;ABL:従順をみる
IF ABL:0 == 0
	V = 0
ELSEIF ABL:0 == 1
	V = 1200
ELSEIF ABL:0 == 2
	V = 1800
ELSEIF ABL:0 == 3
	V = 2500
ELSEIF ABL:0 == 4
	V = 3300
ELSEIF ABL:0 == 5
	V = 4200
ELSEIF ABL:0 == 6
	V = 6200
ELSEIF ABL:0 == 7
	V = 9000
ELSEIF ABL:0 == 8
	V = 13000
ELSEIF ABL:0 == 9
	V = 18000
ELSE
	V = 25000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:0%{ABL:0}LV +{V}
S += V


;ABL:欲望をみる
IF ABL:1 == 0
	V = 0
ELSEIF ABL:1 == 1
	V = 1000
ELSEIF ABL:1 == 2
	V = 1500
ELSEIF ABL:1 == 3
	V = 2100
ELSEIF ABL:1 == 4
	V = 2800
ELSEIF ABL:1 == 5
	V = 3600
ELSEIF ABL:1 == 6
	V = 5500
ELSEIF ABL:1 == 7
	V = 8000
ELSEIF ABL:1 == 8
	V = 12000
ELSEIF ABL:1 == 9
	V = 16000
ELSE
	V = 22000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:1%{ABL:1}LV +{V}
S += V


;ABL:技巧をみる
IF ABL:2 == 0
	V = 0
ELSEIF ABL:2 == 1
	V = 800
ELSEIF ABL:2 == 2
	V = 1200
ELSEIF ABL:2 == 3
	V = 1700
ELSEIF ABL:2 == 4
	V = 2300
ELSEIF ABL:2 == 5
	V = 3000
ELSEIF ABL:2 == 6
	V = 4800
ELSEIF ABL:2 == 7
	V = 7000
ELSEIF ABL:2 == 8
	V = 11000
ELSEIF ABL:2 == 9
	V = 15000
ELSE
	V = 21000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:2%{ABL:2}LV +{V}
S += V


;ABL:Ｃ感覚をみる
IF ABL:3 == 0
	V = 0
ELSEIF ABL:3 == 1
	V = 800
ELSEIF ABL:3 == 2
	V = 1200
ELSEIF ABL:3 == 3
	V = 1700
ELSEIF ABL:3 == 4
	V = 2300
ELSEIF ABL:3 == 5
	V = 3000
ELSEIF ABL:3 == 6
	V = 4800
ELSEIF ABL:3 == 7
	V = 7000
ELSEIF ABL:3 == 8
	V = 11000
ELSEIF ABL:3 == 9
	V = 15000
ELSE
	V = 21000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:3%{ABL:3}LV +{V}
S += V


;ABL:Ｖ感覚をみる
IF ABL:4 == 0
	V = 0
ELSEIF ABL:4 == 1
	V = 800
ELSEIF ABL:4 == 2
	V = 1200
ELSEIF ABL:4 == 3
	V = 1700
ELSEIF ABL:4 == 4
	V = 2300
ELSEIF ABL:4 == 5
	V = 3000
ELSEIF ABL:4 == 6
	V = 4800
ELSEIF ABL:4 == 7
	V = 7000
ELSEIF ABL:4 == 8
	V = 11000
ELSEIF ABL:4 == 9
	V = 15000
ELSE
	V = 21000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:4%{ABL:4}LV +{V}
S += V


;ABL:Ａ感覚をみる
IF ABL:5 == 0
	V = 0
ELSEIF ABL:5 == 1
	V = 800
ELSEIF ABL:5 == 2
	V = 1200
ELSEIF ABL:5 == 3
	V = 1700
ELSEIF ABL:5 == 4
	V = 2300
ELSEIF ABL:5 == 5
	V = 3000
ELSEIF ABL:5 == 6
	V = 4800
ELSEIF ABL:5 == 7
	V = 7000
ELSEIF ABL:5 == 8
	V = 11000
ELSEIF ABL:5 == 9
	V = 15000
ELSE
	V = 21000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:5%{ABL:5}LV +{V}
S += V


;ABL:Ｂ感覚をみる
IF ABL:6 == 0
	V = 0
ELSEIF ABL:6 == 1
	V = 800
ELSEIF ABL:6 == 2
	V = 1200
ELSEIF ABL:6 == 3
	V = 1700
ELSEIF ABL:6 == 4
	V = 2300
ELSEIF ABL:6 == 5
	V = 3000
ELSEIF ABL:6 == 6
	V = 4800
ELSEIF ABL:6 == 7
	V = 7000
ELSEIF ABL:6 == 8
	V = 11000
ELSEIF ABL:6 == 9
	V = 15000
ELSE
	V = 21000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:6%{ABL:6}LV +{V}
S += V


;ABL:奉仕精神をみる
IF ABL:7 == 0
	V = 0
ELSEIF ABL:7 == 1
	V = 1200
ELSEIF ABL:7 == 2
	V = 1800
ELSEIF ABL:7 == 3
	V = 2500
ELSEIF ABL:7 == 4
	V = 3300
ELSEIF ABL:7 == 5
	V = 4200
ELSEIF ABL:7 == 6
	V = 6200
ELSEIF ABL:7 == 7
	V = 9000
ELSEIF ABL:7 == 8
	V = 13000
ELSEIF ABL:7 == 9
	V = 18000
ELSE
	V = 25000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:7%{ABL:7}LV +{V}
S += V


;ABL:露出癖をみる
IF ABL:8 == 0
	V = 0
ELSEIF ABL:8 == 1
	V = 800
ELSEIF ABL:8 == 2
	V = 1200
ELSEIF ABL:8 == 3
	V = 1700
ELSEIF ABL:8 == 4
	V = 2300
ELSEIF ABL:8 == 5
	V = 3000
ELSEIF ABL:8 == 6
	V = 4800
ELSEIF ABL:8 == 7
	V = 7000
ELSEIF ABL:8 == 8
	V = 11000
ELSEIF ABL:8 == 9
	V = 15000
ELSE
	V = 21000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:8%{ABL:8}LV +{V}
S += V


;ABL:マゾっ気をみる
IF ABL:9 == 0
	V = 0
ELSEIF ABL:9 == 1
	V = 1000
ELSEIF ABL:9 == 2
	V = 1500
ELSEIF ABL:9 == 3
	V = 2100
ELSEIF ABL:9 == 4
	V = 2800
ELSEIF ABL:9 == 5
	V = 3600
ELSEIF ABL:9 == 6
	V = 5500
ELSEIF ABL:9 == 7
	V = 8000
ELSEIF ABL:9 == 8
	V = 12000
ELSEIF ABL:9 == 9
	V = 16000
ELSE
	V = 22000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:9%{ABL:9}LV +{V}
S += V


;ABL:サドっ気をみる
IF ABL:10 == 0
	V = 0
ELSEIF ABL:10 == 1
	V = 800
ELSEIF ABL:10 == 2
	V = 1200
ELSEIF ABL:10 == 3
	V = 1700
ELSEIF ABL:10 == 4
	V = 2300
ELSEIF ABL:10 == 5
	V = 3000
ELSEIF ABL:10 == 6
	V = 4800
ELSEIF ABL:10 == 7
	V = 7000
ELSEIF ABL:10 == 8
	V = 11000
ELSEIF ABL:10 == 9
	V = 15000
ELSE
	V = 21000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:10%{ABL:10}LV +{V}
S += V


;ABL:レズっ気をみる
IF ABL:11 == 0
	V = 0
ELSEIF ABL:11 == 1
	V = 1000
ELSEIF ABL:11 == 2
	V = 1500
ELSEIF ABL:11 == 3
	V = 2100
ELSEIF ABL:11 == 4
	V = 2800
ELSEIF ABL:11 == 5
	V = 3600
ELSEIF ABL:11 == 6
	V = 5500
ELSEIF ABL:11 == 7
	V = 8000
ELSEIF ABL:11 == 8
	V = 12000
ELSEIF ABL:11 == 9
	V = 16000
ELSE
	V = 22000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:11%{ABL:11}LV +{V}
S += V


;ABL:料理技能をみる
IF ABL:12 == 0
	V = 0
ELSEIF ABL:12 == 1
	V = 600
ELSEIF ABL:12 == 2
	V = 1000
ELSEIF ABL:12 == 3
	V = 1500
ELSEIF ABL:12 == 4
	V = 2100
ELSEIF ABL:12 == 5
	V = 2800
ELSEIF ABL:12 == 6
	V = 4800
ELSEIF ABL:12 == 7
	V = 7000
ELSEIF ABL:12 == 8
	V = 11000
ELSEIF ABL:12 == 9
	V = 15000
ELSE
	V = 21000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:12%{ABL:12}LV +{V}
S += V


;ABL:撮影技能をみる
IF ABL:13 == 0
	V = 0
ELSEIF ABL:13 == 1
	V = 600
ELSEIF ABL:13 == 2
	V = 1000
ELSEIF ABL:13 == 3
	V = 1500
ELSEIF ABL:13 == 4
	V = 2100
ELSEIF ABL:13 == 5
	V = 2800
ELSEIF ABL:13 == 6
	V = 4800
ELSEIF ABL:13 == 7
	V = 7000
ELSEIF ABL:13 == 8
	V = 11000
ELSEIF ABL:13 == 9
	V = 15000
ELSE
	V = 21000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:13%{ABL:13}LV +{V}
S += V


;ABL:歌唱技能をみる
IF ABL:14 == 0
	V = 0
ELSEIF ABL:14 == 1
	V = 600
ELSEIF ABL:14 == 2
	V = 1000
ELSEIF ABL:14 == 3
	V = 1500
ELSEIF ABL:14 == 4
	V = 2100
ELSEIF ABL:14 == 5
	V = 2800
ELSEIF ABL:14 == 6
	V = 4800
ELSEIF ABL:14 == 7
	V = 7000
ELSEIF ABL:14 == 8
	V = 11000
ELSEIF ABL:14 == 9
	V = 15000
ELSE
	V = 21000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:14%{ABL:14}LV +{V}
S += V


;ABL:自慰中毒をみる
IF ABL:15 == 0
	V = 0
ELSEIF ABL:15 == 1
	V = 1500
ELSEIF ABL:15 == 2
	V = 2200
ELSEIF ABL:15 == 3
	V = 3000
ELSEIF ABL:15 == 4
	V = 3900
ELSEIF ABL:15 == 5
	V = 4900
ELSEIF ABL:15 == 6
	V = 8000
ELSEIF ABL:15 == 7
	V = 11000
ELSEIF ABL:15 == 8
	V = 15000
ELSEIF ABL:15 == 9
	V = 20000
ELSE
	V = 30000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:15%{ABL:15}LV +{V}
S += V


;ABL:精液中毒をみる
IF ABL:16 == 0
	V = 0
ELSEIF ABL:16 == 1
	V = 1500
ELSEIF ABL:16 == 2
	V = 2200
ELSEIF ABL:16 == 3
	V = 3000
ELSEIF ABL:16 == 4
	V = 3900
ELSEIF ABL:16 == 5
	V = 4900
ELSEIF ABL:16 == 6
	V = 8000
ELSEIF ABL:15 == 7
	V = 11000
ELSEIF ABL:15 == 8
	V = 15000
ELSEIF ABL:15 == 9
	V = 20000
ELSE
	V = 30000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:16%{ABL:16}LV +{V}
S += V


;ABL:レズ中毒をみる
IF ABL:17 == 0
	V = 0
ELSEIF ABL:17 == 1
	V = 1500
ELSEIF ABL:17 == 2
	V = 2200
ELSEIF ABL:17 == 3
	V = 3000
ELSEIF ABL:17 == 4
	V = 3900
ELSEIF ABL:17 == 5
	V = 4900
ELSEIF ABL:17 == 6
	V = 8000
ELSEIF ABL:15 == 7
	V = 11000
ELSEIF ABL:15 == 8
	V = 15000
ELSEIF ABL:15 == 9
	V = 20000
ELSE
	V = 30000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:17%{ABL:17}LV +{V}
S += V


;ABL:セックス中毒をみる
IF ABL:18 == 0
	V = 0
ELSEIF ABL:18 == 1
	V = 1500
ELSEIF ABL:18 == 2
	V = 2200
ELSEIF ABL:18 == 3
	V = 3000
ELSEIF ABL:18 == 4
	V = 3900
ELSEIF ABL:18 == 5
	V = 4900
ELSEIF ABL:18 == 6
	V = 8000
ELSEIF ABL:18 == 7
	V = 11000
ELSEIF ABL:18 == 8
	V = 15000
ELSEIF ABL:18 == 9
	V = 20000
ELSE
	V = 30000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:18%{ABL:18}LV +{V}
S += V


;ABL:噴乳中毒をみる
IF ABL:19 == 0
	V = 0
ELSEIF ABL:19 == 1
	V = 1500
ELSEIF ABL:19 == 2
	V = 2200
ELSEIF ABL:19 == 3
	V = 3000
ELSEIF ABL:19 == 4
	V = 3900
ELSEIF ABL:19 == 5
	V = 4900
ELSEIF ABL:19 == 6
	V = 8000
ELSEIF ABL:19 == 7
	V = 11000
ELSEIF ABL:19 == 8
	V = 15000
ELSEIF ABL:19 == 9
	V = 20000
ELSE
	V = 30000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:19%{ABL:19}LV +{V}
S += V


;ABL:ホモっ気をみる
IF ABL:20 == 0
	V = 0
ELSEIF ABL:20 == 1
	V = 1000
ELSEIF ABL:20 == 2
	V = 1500
ELSEIF ABL:20 == 3
	V = 2100
ELSEIF ABL:20 == 4
	V = 2800
ELSEIF ABL:20 == 5
	V = 3600
ELSEIF ABL:20 == 6
	V = 5500
ELSEIF ABL:1 == 7
	V = 8000
ELSEIF ABL:1 == 8
	V = 12000
ELSEIF ABL:1 == 9
	V = 16000
ELSE
	V = 22000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:20%{ABL:20}LV +{V}
S += V


;ABL:ゲイ中毒をみる
IF ABL:21 == 0
	V = 0
ELSEIF ABL:21 == 1
	V = 1500
ELSEIF ABL:21 == 2
	V = 2200
ELSEIF ABL:21 == 3
	V = 3000
ELSEIF ABL:21 == 4
	V = 3900
ELSEIF ABL:21 == 5
	V = 4900
ELSEIF ABL:21 == 6
	V = 8000
ELSEIF ABL:21 == 7
	V = 11000
ELSEIF ABL:21 == 8
	V = 15000
ELSEIF ABL:21 == 9
	V = 20000
ELSE
	V = 30000
ENDIF
SIF V > 0
	PRINTFORML %ABLNAME:21%{ABL:21}LV +{V}
S += V



V = 100
;素質による売却額補正値計算
;TALENT:処女をみる
IF TALENT:処女
	C = 100
	V += 100
	PRINTFORML %TALENTNAME:0% ＋{C}％
ENDIF
;TALENT:再生処女をみる
IF TALENT:再生処女
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:1% ＋{C}％
ENDIF
;素質による増減
;陥落素質
;恋慕
IF TALENT:恋慕
	C = 50
	V -= 50
	PRINTFORML %TALENTNAME:3% －{C}％
ENDIF
;淫乱
IF TALENT:淫乱
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:4% ＋{C}％
ENDIF
;服従
IF TALENT:服従
	C = 50
	V += 50
	PRINTFORML %TALENTNAME:5% ＋{C}％
ENDIF
;親愛
IF TALENT:親愛
	C = 80
	V -= 80
	PRINTFORML %TALENTNAME:6% －{C}％
ENDIF
;娼婦
IF TALENT:娼婦
	C = 60
	V += 60
	PRINTFORML %TALENTNAME:7% ＋{C}％
ENDIF
;隷属
IF TALENT:隷属
	C = 100
	V += 100
	PRINTFORML %TALENTNAME:8% ＋{C}％
ENDIF



;その他素質
;臆病
IF TALENT:臆病
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:10% －{C}％
ENDIF
;反抗的
IF TALENT:反抗的
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:11% ＋{C}％
ENDIF
;気丈
IF TALENT:気丈
	C = 40
	V += 40
	PRINTFORML %TALENTNAME:12% ＋{C}％
ENDIF
;素直
IF TALENT:素直
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:13% －{C}％
ENDIF
;大人しい
IF TALENT:大人しい
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:14% －{C}％
ENDIF
;プライド高い
IF TALENT:プライド高い
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:15% ＋{C}％
ENDIF
;生意気
IF TALENT:生意気
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:16% ＋{C}％
ENDIF
;プライド低い
IF TALENT:プライド低い
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:17% －{C}％
ENDIF
;ツンデレ
IF TALENT:ツンデレ
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:18% ＋{C}％
ENDIF
;自制心
IF TALENT:自制心
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:20% ＋{C}％
ENDIF
;無関心
IF TALENT:無関心
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:21% －{C}％
ENDIF
;感情乏しい
IF TALENT:感情乏しい
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:22% －{C}％
ENDIF
;好奇心
IF TALENT:好奇心
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:23% ＋{C}％
ENDIF
;保守的
IF TALENT:保守的
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:24% ＋{C}％
ENDIF
;一線越えない
IF TALENT:一線越えない
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:27% ＋{C}％
ENDIF
;目立ちたがり
IF TALENT:目立ちたがり
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:28% ＋{C}％
ENDIF
;貞操観念
IF TALENT:貞操観念
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:30% ＋{C}％
ENDIF
;貞操無頓着
IF TALENT:貞操無頓着
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:31% －{C}％
ENDIF
;解放
IF TALENT:解放
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:33% ＋{C}％
ENDIF
;恥じらい
IF TALENT:恥じらい
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:35% ＋{C}％
ENDIF
;恥薄い
IF TALENT:恥薄い
	C = 10
	V -= 10
	PRINTFORML %TALENTNAME:36% －{C}％
ENDIF
;痛みに弱い
IF TALENT:痛みに弱い
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:40% －{C}％
ENDIF
;痛みに強い
IF TALENT:痛みに強い
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:41% ＋{C}％
ENDIF
;濡れやすい
IF TALENT:濡れやすい
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:42% ＋{C}％
ENDIF
;濡れにくい
IF TALENT:濡れにくい
	C = 10
	V -= 10
	PRINTFORML %TALENTNAME:43% －{C}％
ENDIF
;習得早い
IF TALENT:習得早い
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:50% ＋{C}％
ENDIF
;習得遅い
IF TALENT:習得遅い
	C = 10
	V -= 10
	PRINTFORML %TALENTNAME:51% －{C}％
ENDIF
;舌使い
IF TALENT:舌使い
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:52% ＋{C}％
ENDIF
;薬毒耐性
IF TALENT:薬毒耐性
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:56% －{C}％
ENDIF
;おもらし癖
IF TALENT:おもらし癖
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:57% ＋{C}％
ENDIF
;自慰しやすい
IF TALENT:自慰しやすい
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:60% ＋{C}％
ENDIF
;汚臭鈍感
IF TALENT:汚臭鈍感
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:61% －{C}％
ENDIF
;汚臭敏感
IF TALENT:汚臭敏感
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:62% ＋{C}％
ENDIF
;献身的
IF TALENT:献身的
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:63% ＋{C}％
ENDIF
;快感に素直
IF TALENT:快感に素直
	C = 30
	V -= 30
	PRINTFORML %TALENTNAME:70% －{C}％
ENDIF
;快感の否定
IF TALENT:快感の否定
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:71% ＋{C}％
ENDIF
;即落ち
IF TALENT:即落ち
	C = 50
	V -= 50
	PRINTFORML %TALENTNAME:73% －{C}％
ENDIF
;自慰狂い
IF TALENT:自慰狂い
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:74% ＋{C}％
ENDIF
;セックス狂
IF TALENT:セックス狂
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:75% ＋{C}％
ENDIF
;尻穴狂い
IF TALENT:尻穴狂い
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:76% ＋{C}％
ENDIF
;淫乳
IF TALENT:淫乳
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:77% ＋{C}％
ENDIF
;倒錯的
IF TALENT:倒錯的
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:80% ＋{C}％
ENDIF
;男嫌い
IF TALENT:男嫌い
	C = 10
	V -= 10
	PRINTFORML %TALENTNAME:82% －{C}％
ENDIF
;サド
IF TALENT:サド
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:83% ＋{C}％
ENDIF
;マゾ
IF TALENT:マゾ
	C = 40
	V += 40
	PRINTFORML %TALENTNAME:84% ＋{C}％
ENDIF
;妄信
IF TALENT:妄信
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:86% ＋{C}％
ENDIF
;小悪魔
IF TALENT:小悪魔
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:87% ＋{C}％
ENDIF
;女嫌い
IF TALENT:女嫌い
	C = 10
	V -= 10
	PRINTFORML %TALENTNAME:88% －{C}％
ENDIF
;妖狐
IF TALENT:妖狐
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:91% ＋{C}％
ENDIF
;魅力
IF TALENT:魅力
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:92% ＋{C}％
ENDIF
;謎の魅力
IF TALENT:謎の魅力
	C = 100
	V += 100
	PRINTFORML %TALENTNAME:94% ＋{C}％
ENDIF
;Ｃ鈍感（感覚が4以上なら無効）
IF TALENT:Ｃ鈍感 && ABL:3 < 4
	C = 30
	V -= 30
	PRINTFORML %TALENTNAME:101% －{C}％
ENDIF
;Ｃ敏感（感覚が3未満なら無効）
IF TALENT:Ｃ敏感 && ABL:3 >= 3
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:102% ＋{C}％
ENDIF
;Ｖ鈍感（感覚が4以上なら無効）
IF TALENT:Ｖ鈍感 && ABL:4 < 4
	C = 30
	V -= 30
	PRINTFORML %TALENTNAME:103% －{C}％
ENDIF
;Ｖ敏感（感覚が3未満なら無効）
IF TALENT:Ｖ敏感 && ABL:4 >= 3
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:104% ＋{C}％
ENDIF
;Ａ鈍感（感覚が4以上なら無効）
IF TALENT:Ａ鈍感 && ABL:5 < 4
	C = 30
	V -= 30
	PRINTFORML %TALENTNAME:105% －{C}％
ENDIF
;Ａ敏感（感覚が3未満なら無効）
IF TALENT:Ａ敏感 && ABL:5 >= 3
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:106% ＋{C}％
ENDIF
;Ｂ鈍感（感覚が4以上なら無効）
IF TALENT:Ｂ鈍感 && ABL:6 < 4
	C = 30
	V -= 30
	PRINTFORML %TALENTNAME:107% －{C}％
ENDIF
;Ｂ敏感（感覚が3未満なら無効）
IF TALENT:Ｂ敏感 && ABL:6 >= 3
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:108% ＋{C}％
ENDIF
;貧乳
IF TALENT:貧乳
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:109% －{C}％
ENDIF
;絶壁
IF TALENT:絶壁
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:110% ＋{C}％
ENDIF
;巨乳
IF TALENT:巨乳
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:111% ＋{C}％
ENDIF
;爆乳
IF TALENT:爆乳
	C = 10
	V += 10
	PRINTFORML %TALENTNAME:112% ＋{C}％
ENDIF
;回復早い
IF TALENT:回復早い
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:130% ＋{C}％
ENDIF
;回復遅い
IF TALENT:回復遅い
	C = 20
	V -= 20
	PRINTFORML %TALENTNAME:131% －{C}％
ENDIF
;吸血鬼
IF TALENT:吸血鬼
	C = 30
	V += 30
	PRINTFORML %TALENTNAME:132% ＋{C}％
ENDIF
;動物耳
IF TALENT:動物耳
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:143% ＋{C}％
ENDIF
;人気
IF TALENT:人気
	C = 50
	V += 50
	PRINTFORML %TALENTNAME:145% ＋{C}％
ENDIF
;蓬莱人
IF TALENT:蓬莱人
	C = 70
	V += 70
	PRINTFORML %TALENTNAME:147% ＋{C}％
ENDIF
;母乳体質
IF TALENT:母乳体質
	C = 20
	V += 20
	PRINTFORML %TALENTNAME:149% ＋{C}％
ENDIF



;元助手
IF ISASSI:TARGET == 1
	C = 100
	V -= 100
	PRINTFORML 元助手 －{C}％
ENDIF


;補正値が0以下の場合は100にする
SIF V <= 0
	V = 1

PRINTFORML 加算倍率合計 {V}％

;補正値の適用
S *= V
S /= 100

;崩壊,狂気,妊娠は売却額をかなり低くする（従順によって、80％まで回復）
IF TALENT:崩壊 || TALENT:狂気 || TALENT:妊娠
PRINTL 
	IF TALENT:崩壊
		S *= ABL:0
		TIMES S , 0.08
		Z = ABL:0
		Z *= 8
		PRINTFORML %TALENTNAME:9% ×{Z}％
	ELSEIF TALENT:狂気
		S *= ABL:0
		TIMES S , 0.08
		Z = ABL:0
		Z *= 8
		PRINTFORML %TALENTNAME:141% ×{Z}％
	ELSEIF TALENT:妊娠
		S *= ABL:0
		TIMES S , 0.08
		Z = ABL:0
		Z *= 8
		PRINTFORML %TALENTNAME:153% ×{Z}％
	ENDIF
PRINTL 
ENDIF

;VOICEROID
IF TALENT:160
	TIMES S , 3.00
	PRINTFORML %TALENTNAME:160% ×300％
;CeVIO
ELSEIF TALENT:161
	TIMES S , 3.00
	PRINTFORML %TALENTNAME:161% ×300％
;AITalk
ELSEIF TALENT:162
	TIMES S , 3.00
	PRINTFORML %TALENTNAME:162% ×300％
ENDIF

;難易度処理
;EASY
IF FLAG:4 == 1
	PRINTFORML 難易度:EASY ×120％
	TIMES S , 1.20
;NORMAL
ELSEIF FLAG:4 == 2
	TIMES S , 1.00
;HARD
ELSEIF FLAG:4 == 3
	PRINTFORML 難易度:HARD ×80％
	TIMES S , 0.80
ENDIF

;売却確認
PRINTFORML %NAME:TARGET%は${S}で売れそうです
PRINTL 売却しますか？
PRINTL [0] はい
PRINTL [1] いいえ
$INPUT_LOOPSALE
INPUT
IF RESULT == 0
	;売却時のイベント口上
	TFLAG:13 = 18
	CALL KOJO_MESSAGE_EVENT
	;売却額
	IF S > 0
		PRINTFORMW 結果、%NAME:TARGET%は${S}で売れました
		MONEY += S
	ELSEIF S == 0
		PRINTFORMW 結果、%NAME:TARGET%は業者に引き取られました
	ENDIF

	Z = TARGET


	DELCHARA Z

	IF T != -1
		IF T > Z
			TARGET = T-1
		ELSE
			TARGET = T
		ENDIF
	ENDIF
	
	IF A != -1
		IF A > Z
			ASSI = A-1
		ELSE
			ASSI = A
		ENDIF
	ENDIF

	SIF Z == T || T == -1
		TARGET = -1
	SIF Z == A
		ASSI = -1

ELSEIF RESULT == 1
	TARGET = T
	RETURN 0
ELSE
	GOTO INPUT_LOOPSALE
ENDIF


;ビデオの重複使用を処理するために、予め値段の加算を行っておく
@PRICE_VIDEO

P = 0

REPEAT TFLAG:70
	A = COUNT + 11
	
	;COM:愛撫を見る
	IF FLAG:A == 0
		P += 50
	;COM:クンニを見る
	ELSEIF FLAG:A == 1
		P += 50
	;COM:フェラするを見る
	ELSEIF FLAG:A == 2
		P += 200
	;COM:指挿入れを見る
	ELSEIF FLAG:A == 3
		P += 150
	;COM:アナル舐めを見る
	ELSEIF FLAG:A == 4
		P += 100
	;COM:アナル愛撫を見る
	ELSEIF FLAG:A == 5
		P += 100
	;COM:胸揉みを見る
	ELSEIF FLAG:A == 6
		P += 120
	;COM:乳首責めを見る
	ELSEIF FLAG:A == 7
		P += 250
	;COM:胸愛撫を見る
	ELSEIF FLAG:A == 8
		P += 100
	;COM:秘貝開帳を見る
	ELSEIF FLAG:A == 9
		P += 300
	;COM:胸自慰を見る
	ELSEIF FLAG:A == 10
		P += 400
	;COM:自慰を見る
	;自動的に公開オナニーになる
	ELSEIF FLAG:A == 11
		P += 500
	;COM:キスするを見る
	ELSEIF FLAG:A == 20
		P += 100
	;COM:何もしないを見る
	ELSEIF FLAG:A == 21
		P += 10
	;COM:会話を見る
	ELSEIF FLAG:A == 22
		P += 50
	;COM:プレゼントを見る
	ELSEIF FLAG:A == 23
		P += 10
	;COM:スキンシップを見る
	ELSEIF FLAG:A == 24
		P += 30
	;COM:まったりするを見る
	ELSEIF FLAG:A == 25
		P += 10
	;COM:家事を見る
	ELSEIF FLAG:A == 26
		P += 10
	;COM:歌の練習を見る
	ELSEIF FLAG:A == 27
		P += 50
	;COM:罵倒を見る
	ELSEIF FLAG:A == 28
		P += 20
	;COM:ビデオ鑑賞を見る
	ELSEIF FLAG:A == 29
		P += 20
	;COM:ローターを見る
	ELSEIF FLAG:A == 40
		P += 150
	;COM:Eマッサージャを見る
	ELSEIF FLAG:A == 41
		P += 200
	;COM:クリキャップを見る
	ELSEIF FLAG:A == 42
		P += 150
	;COM:オナホールを見る
	ELSEIF FLAG:A == 43
		P += 100
	;COM:バイブを見る
	ELSEIF FLAG:A == 44
		P += 200
	;COM:アナルバイブを見る
	ELSEIF FLAG:A == 45
		P += 250
	;COM:アナルビーズを見る
	ELSEIF FLAG:A == 46
		P += 150
	;COM:ニプルキャップを見る
	ELSEIF FLAG:A == 47
		P += 150
	;COM:乳首ローターを見る
	ELSEIF FLAG:A == 48
		P += 150
	;COM:搾乳器を見る
	ELSEIF FLAG:A == 49
		P += 250
	;COM:正常位を見る
	ELSEIF FLAG:A == 60
		P += 300
	;COM:背後位を見る
	ELSEIF FLAG:A == 61
		P += 450
	;COM:正常位アナルを見る
	ELSEIF FLAG:A == 62
		P += 250
	;COM:後背位アナルを見る
	ELSEIF FLAG:A == 63
		P += 400
	;COM:逆レイプを見る
	ELSEIF FLAG:A == 64
		P += 500
	;COM:乳ファックを見る
	ELSEIF FLAG:A == 65
		P += 400
	;COM:騎乗位を見る
	ELSEIF FLAG:A == 66
		P += 500
	;COM:騎乗位アナルを見る
	ELSEIF FLAG:A == 67
		P += 500
	;COM:対面座位を見る
	ELSEIF FLAG:A == 68
		P += 450
	;COM:背面座位を見る
	ELSEIF FLAG:A == 69
		P += 500
	;COM:対面座位アナルを見る
	ELSEIF FLAG:A == 70
		P += 450
	;COM:背面座位アナルを見る
	ELSEIF FLAG:A == 71
		P += 500
	;COM:手淫を見る
	ELSEIF FLAG:A == 80
		P += 300
	;COM:フェラチオを見る
	ELSEIF FLAG:A == 81
		P += 400
	;COM:パイズリを見る
	ELSEIF FLAG:A == 82
		P += 500
	;COM:素股を見る
	ELSEIF FLAG:A == 83
		P += 350
	;COM:泡踊りを見る
	ELSEIF FLAG:A == 84
		P += 500
	;COM:足扱きを見る
	ELSEIF FLAG:A == 85
		P += 350
	;COM:足舐め強制を見る
	ELSEIF FLAG:A == 86
		P += 350
	;COM:縦パイズリを見る
	ELSEIF FLAG:A == 87
		P += 500
	;COM:パイズリフェラを見る
	ELSEIF FLAG:A == 88
		P += 500
	;COM:母乳飲みを見る
	ELSEIF FLAG:A == 89
		P += 250
	;COM:スパンキングを見る
	ELSEIF FLAG:A == 100
		P += 250
	;COM:乳スパンキングを見る
	ELSEIF FLAG:A == 101
		P += 300
	;COM:鞭を見る
	ELSEIF FLAG:A == 102
		P += 350
	;COM:蝋燭を見る
	ELSEIF FLAG:A == 103
		P += 400
	;COM:針を見る
	ELSEIF FLAG:A == 104
		P += 500
	;COM:アイマスクを見る
	ELSEIF FLAG:A == 105
		P += 150
	;COM:縄を見る
	ELSEIF FLAG:A == 106
		P += 200
	;COM:ボールギャグを見る
	ELSEIF FLAG:A == 107
		P += 250
	;COM:クンニ強制を見る
	ELSEIF FLAG:A == 120
		P += 250
	;COM:ダブル素股を見る
	ELSEIF FLAG:A == 121
		P += 500
	;COM:貝あわせを見る
	ELSEIF FLAG:A == 122
		P += 350
	;COM:助手を犯させるを見る
	ELSEIF FLAG:A == 123
		P += 500
	;COM:二本フェラを見る
	ELSEIF FLAG:A == 124
		P += 450
	;COM:足コキを見る
	ELSEIF FLAG:A == 125
		P += 350
	;COM:ダブルフェラを見る
	ELSEIF FLAG:A == 126
		P += 450
	;COM:ダブルパイズリを見る
	ELSEIF FLAG:A == 127
		P += 500
	;COM:乳の揉み合いを見る
	ELSEIF FLAG:A == 128
		P += 200
	;COM:イマラチオを見る
	ELSEIF FLAG:A == 140
		P += 450
	;COM:フィストファックを見る
	ELSEIF FLAG:A == 141
		P += 500
	;COM:アナルフィストを見る
	ELSEIF FLAG:A == 142
		P += 500
	;COM:両穴フィストを見る
	ELSEIF FLAG:A == 143
		P += 500
	;COM:放尿を見る
	ELSEIF FLAG:A == 144
		P += 200
	;COM:アナル奉仕強制を見る
	ELSEIF FLAG:A == 145
		P += 250
	;COM:浣腸器＋プラグを見る
	ELSEIF FLAG:A == 146
		P += 350
	;COM:空気浣腸を見る
	ELSEIF FLAG:A == 147
		P += 150
	;COM:拡張バルーンを見る
	ELSEIF FLAG:A == 148
		P += 150
	;COM:アナル電極を見る
	ELSEIF FLAG:A == 149
		P += 250
	;COM:乳房電極を見る
	ELSEIF FLAG:A == 150
		P += 250
	;COM:鰻風呂を見る
	ELSEIF FLAG:A == 151
		P += 250
	;COM:蟲風呂を見る
	ELSEIF FLAG:A == 152
		P += 250
	;COM:触手召喚を見る
	ELSEIF FLAG:A == 160
		P += 150
	;COM:触手挿入を見る
	ELSEIF FLAG:A == 161
		P += 250
	;COM:アナル触手を見る
	ELSEIF FLAG:A == 162
		P += 300
	;COM:触手クリ責めを見る
	ELSEIF FLAG:A == 163
		P += 100
	;COM:触手乳首責めを見る
	ELSEIF FLAG:A == 164
		P += 150
	;COM:触手搾乳を見る
	ELSEIF FLAG:A == 165
		P += 200
	;COM:触手緊縛を見る
	ELSEIF FLAG:A == 166
		P += 300
	;COM:触手浣腸を見る
	ELSEIF FLAG:A == 167
		P += 300
	;COM:触手口辱を見る
	ELSEIF FLAG:A == 168
		P += 400
	;COM:触手ペニス責めを見る
	ELSEIF FLAG:A == 169
		P += 100
	;COM:ローションを見る
	ELSEIF FLAG:A == 180
		P += 10
	;COM:媚薬を見る
	ELSEIF FLAG:A == 181
		P += 100
	;COM:利尿剤を見る
	ELSEIF FLAG:A == 182
		P += 100
	;COM:ビデオカメラを見る
	ELSEIF FLAG:A == 183
		P += 0
	;COM:野外プレイを見る
	ELSEIF FLAG:A == 184
		P += 250
	;COM:助手を犯すを見る
	ELSEIF FLAG:A == 185
		P += 300
	;COM:羞恥プレイを見る
	ELSEIF FLAG:A == 186
		P += 250
	;COM:お風呂場プレイを見る
	ELSEIF FLAG:A == 187
		P += 200
	;COM:シャワーを見る
	ELSEIF FLAG:A == 188
		P += 100
	;COM:新妻プレイを見る
	ELSEIF FLAG:A == 189
		P += 200
	;COM:写真撮影を見る
	ELSEIF FLAG:A == 190
		P += 100
	;COM:強精神薬を見る
	ELSEIF FLAG:A == 191
		P += 50
	;COM:コンドーム精飲（奴隷）を見る
	ELSEIF FLAG:A == 192
		P += 200
	;COM:コンドーム精飲（助手）を見る
	ELSEIF FLAG:A == 193
		P += 200
	;COM:ザーメンキスを見る
	ELSEIF FLAG:A == 194
		P += 300

	;COM:二本刺し(3P)を見る
	ELSEIF FLAG:A == 500
		P += 500
	;COM:シックスナインを見る
	ELSEIF FLAG:A == 501
		P += 400
	;COM:岩清水を見る
	ELSEIF FLAG:A == 502
		P += 500
	;COM:Ｇスポット刺激を見る
	ELSEIF FLAG:A == 503
		P += 200
	;COM:乱れ牡丹を見る
	ELSEIF FLAG:A == 504
		P += 500
	;COM:騎乗乳房自慰を見る
	ELSEIF FLAG:A == 505
		P += 450
	;COM:挿入Ｇスポ責めを見る
	ELSEIF FLAG:A == 506
		P += 500
	;COM:挿入子宮口責めを見る
	ELSEIF FLAG:A == 507
		P += 500
	;COM:６９パイズリを見る
	ELSEIF FLAG:A == 508
		P += 500
	;COM:搾乳を見る
	ELSEIF FLAG:A == 509
		P += 500
	;COM:ローションプレイを見る
	ELSEIF FLAG:A == 510
		P += 50
	;COM:ローション風呂を見る
	ELSEIF FLAG:A == 511
		P += 100


	;COM:バイブオナニーを見る
	ELSEIF FLAG:A == 991
		P += 600
	;COM:アナルバイブオナニーを見る
	ELSEIF FLAG:A == 992
		P += 600
	;COM:二穴バイブオナニーを見る
	ELSEIF FLAG:A == 993
		P += 700
	;COM:シャワーオナニーを見る
	ELSEIF FLAG:A == 994
		P += 550
	ENDIF
REND

;処女喪失シーンがあれば加算
IF TFLAG:39
	P += 5000
	EXP:異常経験 += 1
	PRINTFORML ビデオには%CALLNAME:TARGET%の処女喪失シーンが記録されている
	PRINTFORML %EXPNAME:50%＋１
ENDIF

O = 100
;TALENT:処女を見る
SIF TALENT:処女
	O += 20
;素質:無関心を見る
SIF TALENT:無関心
	O -= 30
;素質:感情乏しいを見る
SIF TALENT:感情乏しい
	O -= 30
;素質:恥じらいを見る
SIF TALENT:恥じらい
	O += 10
;素質:小柄体系を見る
SIF TALENT:小柄体型
	O += 20
;素質:絶壁を見る
SIF TALENT:絶壁
	O -= 10
;素質:巨乳を見る
SIF TALENT:巨乳
	O += 20
;素質:爆乳を見る
SIF TALENT:爆乳
	O += 10
;素質:動物耳を見る
SIF TALENT:動物耳
	O += 10
;素質:人気を見る
SIF TALENT:人気
	O += 20
;素質:謎の魅力を見る
SIF TALENT:謎の魅力
	O += 30
;素質:魅力を見る
SIF TALENT:魅力
	O += 20
;-----------------------------------------------------------

;奴隷の被写経験を見る
SIF EXP:TARGET:被写経験 >= EXPLV:3
	O += 10

;撮影者を見る
;主人
IF FLAG:22 == 1
	;撮影技能を見る
	IF ABL:MASTER:13 >= 5
		O += 100
	ELSEIF ABL:MASTER:13 == 4
		O += 50
	ELSEIF ABL:MASTER:13 == 3
		O += 20
	ELSEIF ABL:MASTER:13 <= 1
		O -= 20
	ENDIF
;助手
ELSEIF FLAG:22 == 2
	;撮影技能を見る
	IF ABL:ASSI:13 >= 5
		O += 100
	ELSEIF ABL:ASSI:13 == 4
		O += 50
	ELSEIF ABL:ASSI:13 == 3
		O += 20
	ELSEIF ABL:ASSI:13 <= 1
		O -= 20
	ENDIF
ENDIF

;倍率処理
SIF O < 0
	O = 0

P *= O
P /= 100

;VOICEROID
IF TALENT:160
	TIMES P , 2.50
;CeVIO
ELSEIF TALENT:161
	TIMES P , 2.50
;AITalk
ELSEIF TALENT:162
	TIMES P , 2.50
ENDIF
;難易度処理
;EASY
IF FLAG:4 == 1
	TIMES P , 1.20
;NORMAL
ELSEIF FLAG:4 == 2
	TIMES P , 1.00
;HARD
ELSEIF FLAG:4 == 3
	TIMES P , 0.80
ENDIF

TFLAG:36 += P
TFLAG:70 = 0


@SELL_VIDEO
;調教時に録画したビデオの売却
;TODO 価格設定再考・状況による価格をプラスできるか(処女開通時など)


;撮影中のまま売却まで来た場合はテープの数を減らす
;テープの減数は撮影後処理のため、さらにビデオの値段および経験もここで処理をする
IF TEQUIP:28
	ITEM:43 -= 1
	CALL PRICE_VIDEO
ENDIF

;録画してなければ終了
SIF TFLAG:36 == 0
	RETURN 0


PRINTFORML 録画したビデオは${TFLAG:36}程度の値が付きそうだ
PRINTL 録画したビデオをどうするか選択してください
PRINTL [0] - 売る
PRINTL [1] - 手元に残す
DRAWLINE

$INPUT_LOOP
INPUT
IF RESULT == 0
	PRINTFORML 調教時に録画したビデオを売って、${TFLAG:36}手に入れました
	MONEY += TFLAG:36
	TFLAG:36 = 0
	;イベント口上呼び出し(ビデオ売却時）
	TFLAG:13 = 19
	CALL KOJO_MESSAGE_EVENT
ELSEIF RESULT == 1
	PRINTFORML 調教時に録画したビデオを手元に残しておいた
	CFLAG:20 += 1
	;イベント口上呼び出し(ビデオ保有時）
	TFLAG:13 = 23
	CALL KOJO_MESSAGE_EVENT
ELSE
	GOTO INPUT_LOOP
ENDIF
DRAWLINE



@PRICE_PICTURE
A = 100
B = 0
C = 0

;調教者のABL:撮影技能をみる
IF ABL:PLAYER:13 == 0
	B = 10
ELSEIF ABL:PLAYER:13 == 1
	B = 100
ELSEIF ABL:PLAYER:13 == 2
	B = 150
ELSEIF ABL:PLAYER:13 == 3
	B = 250
ELSEIF ABL:PLAYER:13 == 4
	B = 300
ELSE
	B = 500
ENDIF

;口系
;ボールギャグ装着、触手口辱
IF TEQUIP:45 || TEQUIP:98
	A += 20
	C += 1
ENDIF
;Ａ系
;アナルバイブ装着、アナルビーズ装着、浣腸＋アナルプラグ装着、空気浣腸、バルーン装着、アナル電極装着
IF TEQUIP:13 || TEQUIP:19 || TEQUIP:46 || TEQUIP:47 || TEQUIP:48 || TEQUIP:49 || TEQUIP:70 || TEQUIP:79
	A += 10
	C += 1
ENDIF
;Ｃ系
;クリキャップ装着、オナホール装着
IF TEQUIP:14 || TEQUIP:17
	A += 10
	C += 1
ENDIF
;Ｂ系
;ニプルキャップ装着、搾乳器、乳房電極装着
IF TEQUIP:15 || TEQUIP:16 || TEQUIP:50
	A += 15
	C += 1
ENDIF
;Ｖ系
;バイブ装着
IF TEQUIP:11
	A += 15
	C += 1
ENDIF
;緊縛系
;アイマスク装着
IF TEQUIP:43
	A += 20
	C += 1
ENDIF
;縄で緊縛
IF TEQUIP:44
	A += 25
	C += 1
ENDIF
;薬剤系
;媚薬、利尿剤
IF TEQUIP:21 || TEQUIP:22
	A += 5
	C += 1
ENDIF
;場所系
;野外プレイ、羞恥プレイ中、お風呂場プレイ
IF TEQUIP:54 || TEQUIP:57 || TEQUIP:58
	A += 20
	C += 1
ENDIF
;状況系
;シャワー、ビデオ撮影
IF TEQUIP:18 || TEQUIP:28
	A += 10
	C += 1
ENDIF
;触手調教
IF TEQUIP:25
	A += 5
	C += 1
ENDIF
;着衣系他
;新妻プレイ中
IF TEQUIP:59
	A += 10
	C += 1
ENDIF
;何も装着していない場合のボーナス
SIF C == 0
	A += 50

;精液の補正を設定するためCをリセット
C = 0
;精液の汚れ(口、手、ペニス、ヴァギナ、アナルの順)
SIF STAIN:PLAYER:0 & 4
	C += 1
SIF STAIN:PLAYER:1 & 4
	C += 1
SIF STAIN:PLAYER:2 & 4
	C += 1
SIF STAIN:PLAYER:3 & 4
	C += 1
SIF STAIN:PLAYER:4 & 4
	C += 1
;精液の汚れがない場合のボーナス
SIF C == 0
	A += 30


;素質:無関心を見る
SIF TALENT:無関心
	A -= 30
;素質:感情乏しいを見る
SIF TALENT:感情乏しい
	A -= 30
;素質:恥じらいを見る
SIF TALENT:恥じらい
	A += 10
;素質:小柄体系を見る
SIF TALENT:小柄体型
	A += 20
;素質:絶壁を見る
SIF TALENT:絶壁
	A -= 10
;素質:巨乳を見る
SIF TALENT:巨乳
	A += 20
;素質:爆乳を見る
SIF TALENT:爆乳
	A += 10
;素質:動物耳を見る
SIF TALENT:動物耳
	A += 10
;素質:人気を見る
SIF TALENT:人気
	A += 20
;素質:謎の魅力を見る
SIF TALENT:謎の魅力
	A += 30
;素質:魅力を見る
SIF TALENT:魅力
	A += 20

SIF A < 0
	A = 0

B *= A
B /= 100

;VOICEROID
IF TALENT:160
	TIMES B , 2.50
;CeVIO
ELSEIF TALENT:161
	TIMES B , 2.50
;AITalk
ELSEIF TALENT:162
	TIMES B , 2.50
ENDIF
;難易度処理
;EASY
IF FLAG:4 == 1
	TIMES B , 1.20
;NORMAL
ELSEIF FLAG:4 == 2
	TIMES B , 1.00
;HARD
ELSEIF FLAG:4 == 3
	TIMES B , 0.80
ENDIF

TFLAG:37 += B


@SELL_PICTURE
SIF TFLAG:37 <= 0
	RETURN 0

PRINTFORML %NAME:TARGET%の写真には{TFLAG:37}の買値が付いた
MONEY += TFLAG:37
;フラグリセット。これで調教メニュー以外でも再利用できるように
TFLAG:37 = 0
WAIT


@SELL_MILK
O = TFLAG:35 * 100
IF O > 0
	IF EXP:噴乳経験 <= EXPLV:0
		O *= 1
	ELSEIF EXP:噴乳経験 <= EXPLV:1
		O *= 2
	ELSEIF EXP:噴乳経験 <= EXPLV:2
		O *= 3
	ELSEIF EXP:噴乳経験 <= EXPLV:3
		O *= 4
	ELSEIF EXP:噴乳経験 <= EXPLV:4
		O *= 5
	ELSE
		O *= 6
	ENDIF

;難易度処理
;EASY
IF FLAG:4 == 1
	TIMES O , 1.20
;NORMAL
ELSEIF FLAG:4 == 2
	TIMES O , 1.00
;HARD
ELSEIF FLAG:4 == 3
	TIMES O , 0.80
ENDIF

	PRINTFORML 搾乳器を使って%CALLNAME:TARGET%から母乳を搾り出した
	PRINTFORML %CALLNAME:TARGET%の母乳には{O}の買値が付いた
	MONEY += O
	PRINTFORML 所持金 {O}増加
	WAIT
ENDIF


